{"version":3,"sources":["webpack:///bundle.js","webpack:///./src/js/actions/DrumKitActions.js","webpack:///./src/js/constants/DrumKitConstants.js","webpack:///./src/js/dispatcher/DrumKitDispatcher.js","webpack:///./src/js/stores/DrumKitStore.js","webpack:///./~/object-assign/index.js","webpack:///./src/js/components/CurrentBitDisplayer.js","webpack:///./src/js/components/DrumKit.js","webpack:///./src/js/components/DrumKitConsole.js","webpack:///./src/js/components/InstrumentBits.js","webpack:///./src/js/components/InstrumentBitsList.js","webpack:///./src/js/components/InstrumentInfos.js","webpack:///./src/js/components/TimeLine.js","webpack:///./src/js/main.js","webpack:///./~/events/events.js","webpack:///./src/assets/img/hihat.png","webpack:///./src/assets/img/kick.png","webpack:///./src/assets/img/snare.png","webpack:///./src/assets/img/tome1.png","webpack:///./src/assets/sounds/hihat.mp3","webpack:///./src/assets/sounds/kick.mp3","webpack:///./src/assets/sounds/snare.mp3","webpack:///./src/assets/sounds/tom1.mp3","webpack:///./~/flux/index.js","webpack:///./~/flux/lib/Dispatcher.js","webpack:///./~/flux/~/fbjs/lib/invariant.js"],"names":["webpackJsonp",0,"module","exports","__webpack_require__",25,"DrumKitDispatcher","DrumKitConstants","DrumKitActions","addItem","item","handleViewAction","actionType","ADD_ITEM","bpmChange","CHANGE_BPM","bitPushed","bitpushed","BIT_PUSHED","setCurrentTime","SET_CURRENTTIME","pausedtimeChange","CHANGE_PAUSEDTIME","playDrumKit","PLAY_DRUMKIT","stopDrumKit","STOP_DRUMKIT","changeBit","instrument","bitindex","bit","CHANGE_BIT","loadDrumKit","LOAD_DRUMKIT","timeChange","CHANGE_TIME",54,"REMOVE_ITEM",55,"Dispatcher","assign","action","this","dispatch","source",56,"loadAudioContext","window","AudioContext","webkitAudioContext","audioCtx","e","alert","playSound","buffer","playtime","createBufferSource","connect","destination","start","loadSounds","i","_data","instruments","length","loadSound","soundurl","console","log","name","url","request","XMLHttpRequest","open","responseType","onload","decodeAudioData","response","soundkit","push","error","send","setBitNumber","bitnumber","parseInt","bpm","time","j","bits","splice","stopDrum","pausedTime","currentTime","startTime","currentBit","elapsedtime","DrumKitStore","emitPausedTime","emitCurrentBit","clearTimeout","timerId","launchDrumKit","noteTime","schedule","contextPlayTime","advanceNote","setTimeout","secondsPerBeat","playBit","instrumentindex","bitvalue","loadInstrumentsFromServer","$","ajax","dataType","cache","success","data","emitChange","bind","xhr","status","err","props","toString","EventEmitter","CHANGE_EVENT","NEW_BIT","TIME_CHANGED","BIT_UPDATED","prototype","getDrumKitInfos","getCurrentBit","getBitPushed","getBitsInstrument","emit","addBitListener","callback","on","emitBitUpdated","addBitPushedListener","emitBitPushed","addBitUpdatedListener","getCurrentTime","addPausedsedTimeListener","addChangedListener","register","payload",63,"ToObject","val","TypeError","Object","target","pendingException","from","keys","to","s","arguments","undefined",94,"React","CurrentBitDisplayer","createClass","displayName","render","thisStyle","position","height","backgroundColor","width","timewidth","zIndex","currentBitShower","bitswidth","left","currentbit","createElement","className","style",95,"getdrumkitData","dkinfo","getGetBitPushed","getBitsWidth","timeWidth","GetCurrentTime","InstrumentBitsList","InstrumentInfos","DrumKitConsole","TimeLine","DrumKit","getInitialState","componentDidMount","_onChange","_onBitChange","_OnTimeChanged","_OnBitPushed","handleKeyPress","event","keyCode","state","handleClick","timeStyle","tlcontent","marginTop","marginBottom","onKeyPress","onClick","float","maxWidth","overflowX","songTime","bitsWidth","clear","setState",96,"value","handlePlay","handleStop","pausedTimeChange","role","for","type","step","min","id","onChange","aria-describedby","readOnly","href",97,"getBitStyle","bitValue","bitOnStyle","bitOffStyle","getbits","thisinstrument","thisbits","border","borderRadius","margin","background","InstrumentBits","instindex","shouldComponentUpdate","nextProps","nextState","bitClicked","bitIndex","parent","attr","currentInstrument","closest","instrumentBits","outline","display","instrumentBitsContent","verticalAlign","bitContentStyle","bitIsPlayedStyle","map","data-bitvalue","key","data-index",98,"InstrumentsList","handleTimeMove","instrumentBitNodes",99,"instrumentInfosNodes","src","imgurl","alt",100,"getSecondsWidth","getElapsedTimeWidth","elapsedTime","second","rows","fontSize",101,"_interopRequireDefault","obj","__esModule","default","_react","_react2","_reactDom","_reactDom2","document","getElementById",102,"_events","_maxListeners","isFunction","arg","isNumber","isObject","isUndefined","defaultMaxListeners","setMaxListeners","n","isNaN","er","handler","len","args","listeners","Error","call","Array","apply","slice","addListener","listener","m","newListener","warned","trace","once","g","removeListener","fired","list","removeAllListeners","ret","listenerCount","emitter",118,"p",119,120,121,122,123,124,125,126,127,"process","_classCallCheck","instance","Constructor","invariant","_prefix","_callbacks","_isDispatching","_isHandled","_isPending","_lastID","unregister","env","NODE_ENV","waitFor","ids","ii","_invokeCallback","_startDispatching","_stopDispatching","isDispatching","_pendingPayload",128,"condition","format","a","b","c","d","f","argIndex","replace","framesToPop"],"mappings":"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","file":"bundle.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(118);\n\t__webpack_require__(119);\n\t__webpack_require__(120);\n\t__webpack_require__(121);\n\t__webpack_require__(122);\n\t__webpack_require__(123);\n\t__webpack_require__(124);\n\t__webpack_require__(125);\n\tmodule.exports = __webpack_require__(101);\n\n\n/***/ },\n\n/***/ 25:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar DrumKitDispatcher = __webpack_require__(55);\n\tvar DrumKitConstants = __webpack_require__(54);\n\t\n\tvar DrumKitActions = {\n\t  addItem: function addItem(item) {\n\t    DrumKitDispatcher.handleViewAction({\n\t      actionType: DrumKitConstants.ADD_ITEM,\n\t      item: item\n\t    });\n\t  },\n\t\n\t  bpmChange: function bpmChange(item) {\n\t    DrumKitDispatcher.handleViewAction({\n\t      actionType: DrumKitConstants.CHANGE_BPM,\n\t      item: item\n\t    });\n\t  },\n\t\n\t  bitPushed: function bitPushed(bitpushed) {\n\t    DrumKitDispatcher.handleViewAction({\n\t      actionType: DrumKitConstants.BIT_PUSHED,\n\t      bitpushed: bitpushed\n\t    });\n\t  },\n\t\n\t  setCurrentTime: function setCurrentTime(item) {\n\t    DrumKitDispatcher.handleViewAction({\n\t      actionType: DrumKitConstants.SET_CURRENTTIME,\n\t      item: item\n\t    });\n\t  },\n\t\n\t  pausedtimeChange: function pausedtimeChange(item) {\n\t    DrumKitDispatcher.handleViewAction({\n\t      actionType: DrumKitConstants.CHANGE_PAUSEDTIME,\n\t      item: item\n\t    });\n\t  },\n\t\n\t  playDrumKit: function playDrumKit() {\n\t    DrumKitDispatcher.handleViewAction({\n\t      actionType: DrumKitConstants.PLAY_DRUMKIT\n\t    });\n\t  },\n\t\n\t  stopDrumKit: function stopDrumKit() {\n\t    DrumKitDispatcher.handleViewAction({\n\t      actionType: DrumKitConstants.STOP_DRUMKIT\n\t    });\n\t  },\n\t\n\t  changeBit: function changeBit(instrument, bitindex, bit) {\n\t    DrumKitDispatcher.handleViewAction({\n\t      actionType: DrumKitConstants.CHANGE_BIT,\n\t      instrument: instrument,\n\t      bitindex: bitindex,\n\t      bit: bit\n\t    });\n\t  },\n\t\n\t  loadDrumKit: function loadDrumKit() {\n\t    DrumKitDispatcher.handleViewAction({\n\t      actionType: DrumKitConstants.LOAD_DRUMKIT\n\t    });\n\t  },\n\t\n\t  timeChange: function timeChange(item) {\n\t    DrumKitDispatcher.handleViewAction({\n\t      actionType: DrumKitConstants.CHANGE_TIME,\n\t      item: item\n\t    });\n\t  }\n\t};\n\t\n\tmodule.exports = DrumKitActions;\n\n/***/ },\n\n/***/ 54:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = {\n\t  CHANGE_TIME: 'CHANGE_TIME',\n\t  CHANGE_BPM: 'CHANGE_BPM',\n\t  PLAY_DRUMKIT: 'PLAY_DRUMKIT',\n\t  LOAD_DRUMKIT: 'LOAD_DRUMKIT',\n\t  CHANGE_BIT: 'CHANGE_BIT',\n\t  SET_CURRENTTIME: 'SET_CURRENTTIME',\n\t  CHANGE_PAUSEDTIME: 'CHANGE_PAUSEDTIME',\n\t  STOP_DRUMKIT: 'STOP_DRUMKIT',\n\t  ADD_ITEM: 'ADD_ITEM',\n\t  REMOVE_ITEM: 'REMOVE_ITEM',\n\t  BIT_PUSHED: 'BIT_PUSHED'\n\t};\n\n/***/ },\n\n/***/ 55:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar Dispatcher = __webpack_require__(126).Dispatcher;\n\tvar assign = __webpack_require__(63);\n\t\n\tvar DrumKitDispatcher = assign(new Dispatcher(), {\n\t  handleViewAction: function handleViewAction(action) {\n\t    this.dispatch({\n\t      source: 'DRUMKIT_ACTION',\n\t      action: action\n\t    });\n\t  }\n\t});\n\t\n\tmodule.exports = DrumKitDispatcher;\n\n/***/ },\n\n/***/ 56:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar DrumKitDispatcher = __webpack_require__(55);\n\tvar DrumKitConstants = __webpack_require__(54);\n\tvar EventEmitter = __webpack_require__(102).EventEmitter;\n\tvar assign = __webpack_require__(63);\n\t\n\tvar CHANGE_EVENT = 'change';\n\tvar NEW_BIT = 'newbit';\n\tvar TIME_CHANGED = 'timechanged';\n\tvar BIT_UPDATED = 'bitupdated';\n\tvar BIT_PUSHED = 'bitpushed';\n\t\n\tvar _data = {\n\t  bpm: 0,\n\t  time: 0,\n\t  bitnumber: 0,\n\t  elapsedtime: 0,\n\t  instruments: []\n\t};\n\t\n\tvar currentBit = 0;\n\tvar bitPushed = 0;\n\t\n\tvar audioCtx;\n\tvar soundkit = [];\n\t\n\tvar timerId;\n\tvar startTime = 0;\n\tvar pausedTime = 0;\n\tvar noteTime;\n\t\n\tfunction loadAudioContext() {\n\t  try {\n\t    // Fix up for prefixing\n\t    window.AudioContext = window.AudioContext || window.webkitAudioContext;\n\t    audioCtx = new AudioContext();\n\t  } catch (e) {\n\t    alert('Web Audio API is not supported in this browser');\n\t  }\n\t}\n\t\n\tfunction playSound(buffer, playtime) {\n\t  var source = audioCtx.createBufferSource(); // creates a sound source\n\t  source.buffer = buffer; // tell the source which sound to play\n\t  source.connect(audioCtx.destination); // connect the source to the context's destination (the speakers)\n\t  source.start(playtime); // play the source now                                           // note: on older systems, may have to use deprecated noteOn(time);\n\t}\n\t\n\tfunction loadSounds() {\n\t  for (var i = 0; i < _data.instruments.length; i++) {\n\t    loadSound(_data.instruments[i].soundurl);\n\t    console.log(_data.instruments[i].name + \" chargé\");\n\t  }\n\t}\n\t\n\tfunction loadSound(url) {\n\t  var request = new XMLHttpRequest();\n\t  request.open('GET', url, true);\n\t  request.responseType = 'arraybuffer';\n\t\n\t  // Decode asynchronously\n\t  request.onload = function () {\n\t    audioCtx.decodeAudioData(request.response, function (buffer) {\n\t      soundkit.push(buffer);\n\t    }, function (error) {\n\t      console.error(\"decodeAudioData error\", error);\n\t    });\n\t  };\n\t  request.send();\n\t}\n\t\n\tfunction setBitNumber() {\n\t  _data.bitnumber = parseInt(_data.bpm) * parseInt(_data.time) / 60;\n\t\n\t  //Pour chaque instrument\n\t  for (var i = 0; i < _data.instruments.length; i++) {\n\t    //On met à jour tous les bits\n\t    console.log(\"Nombre de bits: \" + _data.bitnumber);\n\t    for (var j = 0; j < _data.bitnumber; j++) {\n\t      if (typeof _data.instruments[i].bits[j] == 'undefined') {\n\t        _data.instruments[i].bits.push(0);\n\t      }\n\t      if (_data.bitnumber < _data.instruments[i].bits.length) {\n\t        _data.instruments[i].bits.splice(_data.bitnumber, 1);\n\t      }\n\t    }\n\t  }\n\t}\n\t\n\tfunction stopDrum() {\n\t  pausedTime = audioCtx.currentTime - startTime + pausedTime;\n\t  currentBit = 0;\n\t  _data.elapsedtime = 0;\n\t  pausedTime = 0;\n\t  DrumKitStore.emitPausedTime();\n\t  DrumKitStore.emitCurrentBit();\n\t  clearTimeout(timerId);\n\t}\n\t\n\tfunction launchDrumKit() {\n\t  noteTime = 0.0;\n\t  startTime = audioCtx.currentTime + 0.005;\n\t  //currentBit = 0;\n\t  schedule();\n\t}\n\t\n\tfunction schedule() {\n\t  var currentTime = audioCtx.currentTime;\n\t  // The sequence starts at startTime, so normalize currentTime so that it's 0 at the start of the sequence.\n\t  currentTime -= startTime;\n\t\n\t  while (noteTime < currentTime + 0.200) {\n\t    var contextPlayTime = noteTime + startTime;\n\t\n\t    //Insert playing notes here\n\t    DrumKitStore.emitCurrentBit();\n\t    _data.elapsedtime = currentTime + pausedTime;\n\t    DrumKitStore.emitPausedTime();\n\t    for (var i = 0; i < _data.instruments.length; i++) {\n\t      if (_data.instruments[i].bits[currentBit] == 1) {\n\t        playSound(soundkit[i], contextPlayTime);\n\t      }\n\t    }\n\t    advanceNote();\n\t  }\n\t  timerId = setTimeout(schedule, 0);\n\t}\n\t\n\tfunction advanceNote() {\n\t  var secondsPerBeat = 60.0 / _data.bpm;\n\t  currentBit++;\n\t  //boucle après 50 loops\n\t  console.log(\"currentBit: \" + currentBit);\n\t  console.log(\"bitnumber: \" + _data.bitnumber);\n\t  if (currentBit == _data.bitnumber) {\n\t    stopDrum();\n\t  }\n\t  //0.25 because each square is a 16th note\n\t  noteTime += secondsPerBeat;\n\t}\n\t\n\t// function playDrum(){\n\t//     var currentTime = audioCtx.currentTime;\n\t//     elapsedtime = (audioCtx.currentTime - startTime) + pausedTime;\n\t//\n\t//     DrumKitStore.emitPausedTime();\n\t//     DrumKitStore.emitCurrentBit();\n\t//\n\t//\n\t//     //play sounds\n\t//     for (var i = 0; i < _data.instruments.length; i++){\n\t//       if(_data.instruments[i].bits[currentBit] == 1){\n\t//         playSound(soundkit[i], 0);\n\t//       }\n\t//     }\n\t//     currentBit++;\n\t//\n\t//     timerId = setTimeout(function() {\n\t//         playDrum();\n\t//     }, 60000 / _data.bpm)\n\t// }\n\t\n\tfunction playBit(instrumentindex, bitindex, bitvalue) {\n\t  // console.log(\"oldbit: \" + _data.instruments[instrumentindex].bits[bitindex]);\n\t  // console.log(\"newbit: \" + bitvalue);\n\t  if (bitvalue == 1) {\n\t    playSound(soundkit[instrumentindex], 0);\n\t  }\n\t}\n\t\n\tfunction loadInstrumentsFromServer() {\n\t  $.ajax({\n\t    url: \"/api/getdrumkit\",\n\t    dataType: 'json',\n\t    cache: false,\n\t    success: function (data) {\n\t      _data.bpm = data.bpm, _data.time = data.time, _data.instruments = data.instruments, setBitNumber(), DrumKitStore.emitChange();\n\t    }.bind(this),\n\t    error: function (xhr, status, err) {\n\t      console.error(this.props.url, status, err.toString());\n\t    }.bind(this)\n\t  });\n\t}\n\t\n\tvar DrumKitStore = assign({}, EventEmitter.prototype, {\n\t\n\t  getDrumKitInfos: function getDrumKitInfos() {\n\t    return _data;\n\t  },\n\t\n\t  getCurrentBit: function getCurrentBit() {\n\t    return currentBit;\n\t  },\n\t\n\t  getBitPushed: function getBitPushed(instrument) {\n\t    return bitPushed;\n\t  },\n\t\n\t  getBitsInstrument: function getBitsInstrument(instrument) {\n\t    return _data.instruments[instrument].bits;\n\t  },\n\t\n\t  emitCurrentBit: function emitCurrentBit() {\n\t    this.emit(NEW_BIT);\n\t  },\n\t  /**\n\t   * @param {function} callback\n\t   */\n\t  addBitListener: function addBitListener(callback) {\n\t    this.on(NEW_BIT, callback);\n\t  },\n\t\n\t  emitBitUpdated: function emitBitUpdated() {\n\t    this.emit(BIT_UPDATED);\n\t  },\n\t\n\t  addBitPushedListener: function addBitPushedListener(callback) {\n\t    this.on(BIT_PUSHED, callback);\n\t  },\n\t\n\t  emitBitPushed: function emitBitPushed() {\n\t    this.emit(BIT_PUSHED);\n\t  },\n\t\n\t  addBitUpdatedListener: function addBitUpdatedListener(callback) {\n\t    this.on(BIT_UPDATED, callback);\n\t  },\n\t\n\t  getCurrentTime: function getCurrentTime() {\n\t    return _data.elapsedtime;\n\t  },\n\t\n\t  emitPausedTime: function emitPausedTime() {\n\t    this.emit(TIME_CHANGED);\n\t  },\n\t\n\t  addPausedsedTimeListener: function addPausedsedTimeListener(callback) {\n\t    this.on(TIME_CHANGED, callback);\n\t  },\n\t\n\t  emitChange: function emitChange() {\n\t    this.emit(CHANGE_EVENT);\n\t  },\n\t\n\t  /**\n\t   * @param {function} callback\n\t   */\n\t  addChangedListener: function addChangedListener(callback) {\n\t    this.on(CHANGE_EVENT, callback);\n\t  }\n\t});\n\t\n\tDrumKitDispatcher.register(function (payload) {\n\t  var action = payload.action;\n\t\n\t  switch (action.actionType) {\n\t    case DrumKitConstants.CHANGE_TIME:\n\t      console.log(action.item);\n\t      _data.time = action.item;\n\t      setBitNumber();\n\t      DrumKitStore.emitChange();\n\t      break;\n\t\n\t    case DrumKitConstants.CHANGE_BPM:\n\t      _data.bpm = action.item;\n\t      setBitNumber();\n\t      DrumKitStore.emitChange();\n\t      break;\n\t    case DrumKitConstants.CHANGE_BIT:\n\t      _data.instruments[action.instrument].bits[action.bitindex] = action.bit;\n\t      playBit(action.instrument, action.bitindex, action.bit);\n\t      DrumKitStore.emitBitUpdated();\n\t      break;\n\t    case DrumKitConstants.CHANGE_PAUSEDTIME:\n\t      pausedTime = action.item;\n\t      DrumKitStore.emitPausedTime();\n\t      break;\n\t    case DrumKitConstants.LOAD_DRUMKIT:\n\t      loadInstrumentsFromServer();\n\t      DrumKitStore.emitChange();\n\t      break;\n\t\n\t    case DrumKitConstants.SET_CURRENTTIME:\n\t      DrumKitStore.emitPausedTime();\n\t      _data.elapsedtime = payload.action.item;\n\t      break;\n\t\n\t    case DrumKitConstants.BIT_PUSHED:\n\t      bitPushed = action.bitpushed;\n\t      DrumKitStore.emitBitPushed();\n\t      console.log(action);\n\t      break;\n\t\n\t    case DrumKitConstants.PLAY_DRUMKIT:\n\t      // startTime =  audioCtx.currentTime;\n\t      // playDrum();\n\t      launchDrumKit();\n\t      break;\n\t    case DrumKitConstants.STOP_DRUMKIT:\n\t      stopDrum();\n\t      break;\n\t\n\t    case DrumKitConstants.ADD_ITEM:\n\t      loadAudioContext();\n\t      loadSounds();\n\t      DrumKitStore.emitChange();\n\t      break;\n\t  }\n\t\n\t  return true; // No errors. Needed by promise in Dispatcher.\n\t});\n\t\n\tmodule.exports = DrumKitStore;\n\n/***/ },\n\n/***/ 63:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tfunction ToObject(val) {\n\t\tif (val == null) {\n\t\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t\t}\n\t\n\t\treturn Object(val);\n\t}\n\t\n\tmodule.exports = Object.assign || function (target, source) {\n\t\tvar pendingException;\n\t\tvar from;\n\t\tvar keys;\n\t\tvar to = ToObject(target);\n\t\n\t\tfor (var s = 1; s < arguments.length; s++) {\n\t\t\tfrom = arguments[s];\n\t\t\tkeys = Object.keys(Object(from));\n\t\n\t\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\t\ttry {\n\t\t\t\t\tto[keys[i]] = from[keys[i]];\n\t\t\t\t} catch (err) {\n\t\t\t\t\tif (pendingException === undefined) {\n\t\t\t\t\t\tpendingException = err;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\tif (pendingException) {\n\t\t\tthrow pendingException;\n\t\t}\n\t\n\t\treturn to;\n\t};\n\n\n/***/ },\n\n/***/ 94:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(13);\n\t\n\tvar CurrentBitDisplayer = React.createClass({\n\t  displayName: 'CurrentBitDisplayer',\n\t\n\t\n\t  render: function render() {\n\t    var thisStyle = {\n\t      'position': 'absolute',\n\t      'height': '100%',\n\t      'backgroundColor': 'beige',\n\t      'width': this.props.timewidth,\n\t      'zIndex': '-1'\n\t    };\n\t    var currentBitShower = {\n\t      'height': '100%',\n\t      'width': this.props.bitswidth,\n\t      'backgroundColor': 'blueviolet',\n\t      'left': this.props.bitswidth * this.props.currentbit,\n\t      'position': 'absolute'\n\t    };\n\t    return React.createElement(\n\t      'div',\n\t      { className: 'currentBitDisplayer', style: thisStyle },\n\t      React.createElement('div', { style: currentBitShower })\n\t    );\n\t  }\n\t});\n\t\n\tmodule.exports = CurrentBitDisplayer;\n\n/***/ },\n\n/***/ 95:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(13);\n\tvar DrumKitActions = __webpack_require__(25);\n\tvar DrumKitStore = __webpack_require__(56);\n\tvar InstrumentBitsList = __webpack_require__(98);\n\tvar InstrumentInfos = __webpack_require__(99);\n\tvar DrumKitConsole = __webpack_require__(96);\n\tvar TimeLine = __webpack_require__(100);\n\tvar CurrentBitDisplayer = __webpack_require__(94);\n\t\n\tvar timeWidth = 6200;\n\t\n\tfunction getdrumkitData() {\n\t  var dkinfo = DrumKitStore.getDrumKitInfos();\n\t  return {\n\t    bpm: dkinfo.bpm,\n\t    time: dkinfo.time,\n\t    bitnumber: dkinfo.bitnumber,\n\t    instruments: dkinfo.instruments,\n\t    elapsedtime: dkinfo.elapsedtime\n\t  };\n\t}\n\t\n\tfunction getCurrentBit() {\n\t  return {\n\t    currentbit: DrumKitStore.getCurrentBit()\n\t  };\n\t}\n\t\n\tfunction getGetBitPushed() {\n\t  console.log(\"getGetBitPushed: \" + DrumKitStore.getBitPushed());\n\t  return {\n\t    bitPushed: DrumKitStore.getBitPushed()\n\t  };\n\t}\n\t\n\tfunction getBitsWidth(bitnumber) {\n\t  return timeWidth / bitnumber;\n\t}\n\t\n\tfunction GetCurrentTime() {\n\t  return {\n\t    elapsedtime: DrumKitStore.getCurrentTime()\n\t  };\n\t}\n\t\n\tvar DrumKit = React.createClass({\n\t  displayName: 'DrumKit',\n\t\n\t  getInitialState: function getInitialState() {\n\t    return getdrumkitData();\n\t  },\n\t\n\t  componentDidMount: function componentDidMount() {\n\t    DrumKitStore.addChangedListener(this._onChange);\n\t    DrumKitStore.addBitListener(this._onBitChange);\n\t    DrumKitStore.addPausedsedTimeListener(this._OnTimeChanged);\n\t    DrumKitStore.addBitPushedListener(this._OnBitPushed);\n\t    DrumKitActions.loadDrumKit();\n\t  },\n\t\n\t  handleKeyPress: function handleKeyPress() {\n\t    switch (event.keyCode.toString()) {\n\t      case \"104\":\n\t        DrumKitActions.changeBit(0, this.state.currentbit, 1);\n\t        break;\n\t      case \"107\":\n\t        DrumKitActions.changeBit(2, this.state.currentbit, 1);\n\t        break;\n\t      case \"115\":\n\t        DrumKitActions.changeBit(1, this.state.currentbit, 1);\n\t        break;\n\t      default:\n\t      //do nothing\n\t    }\n\t    DrumKitActions.bitPushed(this.state.currentbit);\n\t  },\n\t  handleClick: function handleClick() {\n\t    DrumKitActions.addItem('this is the item');\n\t  },\n\t  render: function render() {\n\t    console.log(\"DrumKitRender\");\n\t    var s = {\n\t      timeStyle: {\n\t        'width': timeWidth\n\t      },\n\t      tlcontent: {\n\t        'height': \"8px\",\n\t        'marginTop': '5px',\n\t        'marginBottom': '20px'\n\t      }\n\t    };\n\t    return React.createElement(\n\t      'div',\n\t      { className: 'drumKit', onKeyPress: this.handleKeyPress },\n\t      React.createElement(\n\t        'h3',\n\t        { onClick: this.handleClick },\n\t        'Load Audio Context'\n\t      ),\n\t      React.createElement(\n\t        'div',\n\t        { className: 'instrumentInfosContent', style: { 'float': 'left' } },\n\t        React.createElement('div', { className: 'emptyTab', style: s.tlcontent }),\n\t        React.createElement(InstrumentInfos, { instruments: this.state.instruments })\n\t      ),\n\t      React.createElement(\n\t        'div',\n\t        { className: 'notesContent', style: { 'float': 'left', 'maxWidth': '1000px', 'overflowX': 'auto', 'position': 'relative' } },\n\t        React.createElement(\n\t          'div',\n\t          { className: 'timeLineContainer', style: s.timeStyle },\n\t          React.createElement(TimeLine, { songTime: this.state.time, elapsedtime: this.state.elapsedtime, timeWidth: timeWidth, style: s.tlcontent })\n\t        ),\n\t        React.createElement(\n\t          'div',\n\t          { className: 'InstrumentBitsListContainer', style: s.timeStyle },\n\t          React.createElement(CurrentBitDisplayer, { timewidth: timeWidth, bitswidth: getBitsWidth(this.state.bitnumber), currentbit: this.state.currentbit }),\n\t          React.createElement(InstrumentBitsList, { timeWidth: timeWidth, bitPushed: this.state.bitPushed, bitsWidth: getBitsWidth(this.state.bitnumber), instruments: this.state.instruments })\n\t        )\n\t      ),\n\t      React.createElement('div', { style: { 'clear': 'both' } }),\n\t      React.createElement(\n\t        'div',\n\t        null,\n\t        React.createElement(DrumKitConsole, { elapsedtime: this.state.elapsedtime, bitnumber: this.state.bitnumber, bpm: this.state.bpm, time: this.state.time })\n\t      )\n\t    );\n\t  },\n\t  _onChange: function _onChange() {\n\t    this.setState(getdrumkitData());\n\t  },\n\t  _onBitChange: function _onBitChange() {\n\t    this.setState(getCurrentBit());\n\t  },\n\t\n\t  _OnBitPushed: function _OnBitPushed() {\n\t    this.setState(getGetBitPushed());\n\t  },\n\t\n\t  _OnTimeChanged: function _OnTimeChanged() {\n\t    this.setState(GetCurrentTime());\n\t  }\n\t});\n\t\n\tmodule.exports = DrumKit;\n\n/***/ },\n\n/***/ 96:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(13);\n\tvar DrumKitActions = __webpack_require__(25);\n\t\n\tvar DrumKitConsole = React.createClass({\n\t  displayName: 'DrumKitConsole',\n\t\n\t  timeChange: function timeChange(event) {\n\t    DrumKitActions.timeChange(event.target.value);\n\t  },\n\t  bpmChange: function bpmChange(event) {\n\t    DrumKitActions.bpmChange(event.target.value);\n\t  },\n\t  handlePlay: function handlePlay() {\n\t    DrumKitActions.playDrumKit(0);\n\t  },\n\t  handleStop: function handleStop() {\n\t    DrumKitActions.stopDrumKit(0);\n\t  },\n\t  pausedTimeChange: function pausedTimeChange(event) {\n\t    DrumKitActions.pausedtimeChange(event.target.value);\n\t  },\n\t\n\t  render: function render() {\n\t    return React.createElement(\n\t      'div',\n\t      { className: 'drumKitConsole' },\n\t      React.createElement(\n\t        'div',\n\t        { className: 'row' },\n\t        React.createElement(\n\t          'form',\n\t          { className: 'form', role: 'form' },\n\t          React.createElement(\n\t            'div',\n\t            { className: 'col-xs-1' },\n\t            React.createElement(\n\t              'label',\n\t              { 'for': 'ex1' },\n\t              'time:'\n\t            ),\n\t            React.createElement('input', { type: 'number', className: 'form-control', step: '1', min: '0', id: 'time', value: this.props.time, onChange: this.timeChange, 'aria-describedby': 'basic-addon3' })\n\t          ),\n\t          React.createElement(\n\t            'div',\n\t            { className: 'col-xs-1' },\n\t            React.createElement(\n\t              'label',\n\t              { 'for': 'ex1' },\n\t              'bpm:'\n\t            ),\n\t            React.createElement('input', { type: 'number', className: 'form-control', step: '1', min: '0', id: 'bpm', value: this.props.bpm, onChange: this.bpmChange, 'aria-describedby': 'basic-addon3' })\n\t          ),\n\t          React.createElement(\n\t            'div',\n\t            { className: 'col-xs-1' },\n\t            React.createElement(\n\t              'label',\n\t              { 'for': 'ex1' },\n\t              'bitnumber:'\n\t            ),\n\t            React.createElement('input', { type: 'number', className: 'form-control', readOnly: true, step: '1', min: '0', id: 'bitnumber', value: this.props.bitnumber, 'aria-describedby': 'basic-addon3' })\n\t          ),\n\t          React.createElement(\n\t            'div',\n\t            { className: 'col-xs-1' },\n\t            React.createElement(\n\t              'label',\n\t              { 'for': 'ex1' },\n\t              'ElapsedTime:'\n\t            ),\n\t            React.createElement('input', { type: 'number', className: 'form-control', min: '0', step: 'any', value: this.props.elapsedtime, onChange: this.pausedTimeChange, id: 'elapsedtime', 'aria-describedby': 'basic-addon3' })\n\t          )\n\t        )\n\t      ),\n\t      React.createElement(\n\t        'div',\n\t        { className: 'row' },\n\t        React.createElement(\n\t          'a',\n\t          { href: '#', className: 'btn btn-sm btn-default', onClick: this.handlePlay },\n\t          React.createElement('span', { className: 'glyphicon glyphicon-play' }),\n\t          ' '\n\t        ),\n\t        React.createElement(\n\t          'a',\n\t          { href: '#', className: 'btn btn-sm btn-default', onClick: this.handleStop },\n\t          React.createElement('span', { className: 'glyphicon glyphicon-stop' }),\n\t          ' '\n\t        ),\n\t        React.createElement(\n\t          'a',\n\t          { href: '#', className: 'btn btn-sm btn-default', onClick: this.handleStop },\n\t          React.createElement('span', { className: 'glyphicon glyphicon-pause' }),\n\t          ' '\n\t        )\n\t      )\n\t    );\n\t  }\n\t});\n\t\n\tmodule.exports = DrumKitConsole;\n\n/***/ },\n\n/***/ 97:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(13);\n\tvar DrumKitActions = __webpack_require__(25);\n\tvar DrumKitStore = __webpack_require__(56);\n\t\n\tvar bitOnStyle = {\n\t  'border': '1px solid silver',\n\t  'borderRadius': '5px',\n\t  'width': '40%',\n\t  'height': '80%',\n\t  'margin': 'auto',\n\t  'background': 'silver'\n\t};\n\t\n\tvar bitOffStyle = {\n\t  'border': '1px solid silver',\n\t  'borderRadius': '5px',\n\t  'width': '40%',\n\t  'height': '80%',\n\t  'margin': 'auto'\n\t};\n\t\n\tfunction getBitStyle(bitValue) {\n\t  if (bitValue == 1) {\n\t    return bitOnStyle;\n\t  } else {\n\t    return bitOffStyle;\n\t  }\n\t}\n\t\n\tfunction getbits(thisinstrument) {\n\t  var thisbits = DrumKitStore.getBitsInstrument(thisinstrument);\n\t  return {\n\t    bits: thisbits\n\t  };\n\t}\n\t\n\tvar InstrumentBits = React.createClass({\n\t  displayName: 'InstrumentBits',\n\t\n\t  getInitialState: function getInitialState() {\n\t    return {\n\t      bits: DrumKitStore.getBitsInstrument(this.props.instindex)\n\t    };\n\t  },\n\t\n\t  shouldComponentUpdate: function shouldComponentUpdate(nextProps, nextState) {\n\t    console.log(\"shouldComponentUpdate_bitPushed: \" + this.props.bitPushed);\n\t    console.log(\"shouldComponentUpdate_bitPushed_(nextState): \" + nextProps.bitPushed);\n\t    console.log(this.state[nextProps.bitPushed] != nextState[nextProps.bitPushed]);\n\t    //  console.log(\"bitClicked: \" + bitClicked)\n\t    //  console.log(this.state[bitClicked]);\n\t    //  console.log(nextState[bitClicked]);\n\t    //  console.log(this.state[bitClicked] != nextState[bitClicked]);\n\t    //  console.log(arraysEqual(this.state, nextState))\n\t    return this.state[nextProps.bitPushed] != nextState[nextProps.bitPushed] || this.props.bitsWidth != nextProps.bitsWidth;\n\t  },\n\t\n\t  bitClicked: function bitClicked(event) {\n\t    var bitIndex = $(event.target).parent().data('index');\n\t    var bitValue = $(event.target).parent().attr('data-bitvalue');\n\t    //var bitValue = $(event.target).text();\n\t    var currentInstrument = $(event.target).closest('.instrumentBits').data('index');\n\t\n\t    DrumKitActions.bitPushed(bitIndex);\n\t\n\t    if (parseInt(bitValue) == 1) {\n\t      DrumKitActions.changeBit(currentInstrument, bitIndex, 0);\n\t    } else {\n\t      DrumKitActions.changeBit(currentInstrument, bitIndex, 1);\n\t    }\n\t  },\n\t\n\t  componentDidMount: function componentDidMount() {\n\t    DrumKitStore.addBitUpdatedListener(this._onChange);\n\t    getbits(this.props.instindex);\n\t  },\n\t\n\t  render: function render() {\n\t    console.log(\"InstrumentBits Render----------------------------------------\");\n\t    var s = {\n\t      instrumentBits: {\n\t        'height': '24px',\n\t        'outline': '1px solid',\n\t        'display': 'table',\n\t        'width': this.props.timeWidth\n\t      },\n\t      instrumentBitsContent: {\n\t        'display': 'table-cell',\n\t        'verticalAlign': 'middle'\n\t      },\n\t      bitContentStyle: {\n\t        'float': 'left',\n\t        'outline': '1px solid silver',\n\t        'width': this.props.bitsWidth,\n\t        'height': '10'\n\t      },\n\t      bitIsPlayedStyle: {\n\t        'float': 'left',\n\t        'outline': '1px solid silver',\n\t        'width': this.props.bitsWidth,\n\t        'height': '10',\n\t        'background': 'black'\n\t      }\n\t    };\n\t\n\t    var instrumentBits = this.state.bits.map(function (bit, i) {\n\t      return React.createElement(\n\t        'div',\n\t        { style: s.bitContentStyle, 'data-bitvalue': bit, key: i, 'data-index': i, onClick: this.bitClicked, className: 'instrumentBit' },\n\t        React.createElement('div', { style: getBitStyle(bit) })\n\t      );\n\t    }.bind(this));\n\t\n\t    return React.createElement(\n\t      'div',\n\t      { className: 'instrumentBits', style: s.instrumentBits, 'data-index': this.props.instindex },\n\t      React.createElement(\n\t        'div',\n\t        { style: s.instrumentBitsContent },\n\t        instrumentBits\n\t      )\n\t    );\n\t  },\n\t  _onChange: function _onChange() {\n\t    this.setState(DrumKitStore.getBitsInstrument(this.props.instindex));\n\t  }\n\t});\n\t\n\tmodule.exports = InstrumentBits;\n\n/***/ },\n\n/***/ 98:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(13);\n\tvar InstrumentBits = __webpack_require__(97);\n\tvar DrumKitActions = __webpack_require__(25);\n\t\n\tvar InstrumentsList = React.createClass({\n\t  displayName: 'InstrumentsList',\n\t\n\t  handleTimeMove: function handleTimeMove(e) {\n\t    DrumKitActions.setCurrentTime(e.target.value);\n\t  },\n\t\n\t  render: function render() {\n\t    var instrumentBitNodes = this.props.instruments.map(function (instrument, i) {\n\t      return React.createElement(InstrumentBits, {\n\t        bitPushed: this.props.bitPushed,\n\t        timeWidth: this.props.timeWidth,\n\t        bitsWidth: this.props.bitsWidth,\n\t        key: i,\n\t        instindex: i });\n\t    }.bind(this));\n\t\n\t    return React.createElement(\n\t      'div',\n\t      { className: 'instrumentBitsList' },\n\t      instrumentBitNodes\n\t    );\n\t  }\n\t});\n\t\n\tmodule.exports = InstrumentsList;\n\n/***/ },\n\n/***/ 99:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(13);\n\t\n\tvar InstrumentInfos = React.createClass({\n\t  displayName: 'InstrumentInfos',\n\t\n\t  render: function render() {\n\t    var instrumentInfosNodes = this.props.instruments.map(function (instrument, i) {\n\t      return React.createElement(\n\t        'div',\n\t        { className: 'instrumentName', key: i, style: { width: '24', height: '24', 'outline': '1px solid' } },\n\t        React.createElement('img', { src: instrument.imgurl, alt: instrument.name, height: '24', width: '24' })\n\t      );\n\t    });\n\t\n\t    return React.createElement(\n\t      'div',\n\t      { className: 'instrumentInfosList' },\n\t      instrumentInfosNodes\n\t    );\n\t  }\n\t});\n\t\n\tmodule.exports = InstrumentInfos;\n\n/***/ },\n\n/***/ 100:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(13);\n\t\n\tfunction getSecondsWidth(timeWidth, songTime) {\n\t  return timeWidth / songTime;\n\t}\n\t\n\tfunction getElapsedTimeWidth(timeWidth, songTime, elapsedTime) {\n\t  return timeWidth / songTime * elapsedTime;\n\t}\n\t\n\tvar TimeLine = React.createClass({\n\t  displayName: 'TimeLine',\n\t\n\t  render: function render() {\n\t    var second = {\n\t      'outline': '1px solid gray',\n\t      'width': getSecondsWidth(this.props.timeWidth, this.props.songTime),\n\t      'height': '8',\n\t      'float': 'left',\n\t      'display': 'block'\n\t    };\n\t\n\t    var elapsedtime = {\n\t      'height': '100%',\n\t      'background': 'gray',\n\t      'width': getElapsedTimeWidth(this.props.timeWidth, this.props.songTime, this.props.elapsedtime)\n\t    };\n\t\n\t    var rows = [];\n\t    for (var i = 0; i < this.props.songTime; i++) {\n\t      rows.push(React.createElement(\n\t        'div',\n\t        { key: i, style: second },\n\t        React.createElement(\n\t          'span',\n\t          { style: { 'fontSize': 'xx-small' } },\n\t          i\n\t        )\n\t      ));\n\t    }\n\t    return React.createElement(\n\t      'div',\n\t      { className: 'timeLine', style: this.props.style },\n\t      React.createElement('div', { className: 'progressBar', style: elapsedtime }),\n\t      rows\n\t    );\n\t  }\n\t});\n\t\n\tmodule.exports = TimeLine;\n\n/***/ },\n\n/***/ 101:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _react = __webpack_require__(13);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactDom = __webpack_require__(64);\n\t\n\tvar _reactDom2 = _interopRequireDefault(_reactDom);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar DrumKit = __webpack_require__(95);\n\t\n\t_reactDom2.default.render(_react2.default.createElement(DrumKit, { url: '/api/getdrumkit' }), document.getElementById('main'));\n\n/***/ },\n\n/***/ 102:\n/***/ function(module, exports) {\n\n\t// Copyright Joyent, Inc. and other Node contributors.\n\t//\n\t// Permission is hereby granted, free of charge, to any person obtaining a\n\t// copy of this software and associated documentation files (the\n\t// \"Software\"), to deal in the Software without restriction, including\n\t// without limitation the rights to use, copy, modify, merge, publish,\n\t// distribute, sublicense, and/or sell copies of the Software, and to permit\n\t// persons to whom the Software is furnished to do so, subject to the\n\t// following conditions:\n\t//\n\t// The above copyright notice and this permission notice shall be included\n\t// in all copies or substantial portions of the Software.\n\t//\n\t// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n\t// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n\t// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n\t// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n\t// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n\t// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n\t// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\t\n\tfunction EventEmitter() {\n\t  this._events = this._events || {};\n\t  this._maxListeners = this._maxListeners || undefined;\n\t}\n\tmodule.exports = EventEmitter;\n\t\n\t// Backwards-compat with node 0.10.x\n\tEventEmitter.EventEmitter = EventEmitter;\n\t\n\tEventEmitter.prototype._events = undefined;\n\tEventEmitter.prototype._maxListeners = undefined;\n\t\n\t// By default EventEmitters will print a warning if more than 10 listeners are\n\t// added to it. This is a useful default which helps finding memory leaks.\n\tEventEmitter.defaultMaxListeners = 10;\n\t\n\t// Obviously not all Emitters should be limited to 10. This function allows\n\t// that to be increased. Set to zero for unlimited.\n\tEventEmitter.prototype.setMaxListeners = function(n) {\n\t  if (!isNumber(n) || n < 0 || isNaN(n))\n\t    throw TypeError('n must be a positive number');\n\t  this._maxListeners = n;\n\t  return this;\n\t};\n\t\n\tEventEmitter.prototype.emit = function(type) {\n\t  var er, handler, len, args, i, listeners;\n\t\n\t  if (!this._events)\n\t    this._events = {};\n\t\n\t  // If there is no 'error' event listener then throw.\n\t  if (type === 'error') {\n\t    if (!this._events.error ||\n\t        (isObject(this._events.error) && !this._events.error.length)) {\n\t      er = arguments[1];\n\t      if (er instanceof Error) {\n\t        throw er; // Unhandled 'error' event\n\t      }\n\t      throw TypeError('Uncaught, unspecified \"error\" event.');\n\t    }\n\t  }\n\t\n\t  handler = this._events[type];\n\t\n\t  if (isUndefined(handler))\n\t    return false;\n\t\n\t  if (isFunction(handler)) {\n\t    switch (arguments.length) {\n\t      // fast cases\n\t      case 1:\n\t        handler.call(this);\n\t        break;\n\t      case 2:\n\t        handler.call(this, arguments[1]);\n\t        break;\n\t      case 3:\n\t        handler.call(this, arguments[1], arguments[2]);\n\t        break;\n\t      // slower\n\t      default:\n\t        len = arguments.length;\n\t        args = new Array(len - 1);\n\t        for (i = 1; i < len; i++)\n\t          args[i - 1] = arguments[i];\n\t        handler.apply(this, args);\n\t    }\n\t  } else if (isObject(handler)) {\n\t    len = arguments.length;\n\t    args = new Array(len - 1);\n\t    for (i = 1; i < len; i++)\n\t      args[i - 1] = arguments[i];\n\t\n\t    listeners = handler.slice();\n\t    len = listeners.length;\n\t    for (i = 0; i < len; i++)\n\t      listeners[i].apply(this, args);\n\t  }\n\t\n\t  return true;\n\t};\n\t\n\tEventEmitter.prototype.addListener = function(type, listener) {\n\t  var m;\n\t\n\t  if (!isFunction(listener))\n\t    throw TypeError('listener must be a function');\n\t\n\t  if (!this._events)\n\t    this._events = {};\n\t\n\t  // To avoid recursion in the case that type === \"newListener\"! Before\n\t  // adding it to the listeners, first emit \"newListener\".\n\t  if (this._events.newListener)\n\t    this.emit('newListener', type,\n\t              isFunction(listener.listener) ?\n\t              listener.listener : listener);\n\t\n\t  if (!this._events[type])\n\t    // Optimize the case of one listener. Don't need the extra array object.\n\t    this._events[type] = listener;\n\t  else if (isObject(this._events[type]))\n\t    // If we've already got an array, just append.\n\t    this._events[type].push(listener);\n\t  else\n\t    // Adding the second element, need to change to array.\n\t    this._events[type] = [this._events[type], listener];\n\t\n\t  // Check for listener leak\n\t  if (isObject(this._events[type]) && !this._events[type].warned) {\n\t    var m;\n\t    if (!isUndefined(this._maxListeners)) {\n\t      m = this._maxListeners;\n\t    } else {\n\t      m = EventEmitter.defaultMaxListeners;\n\t    }\n\t\n\t    if (m && m > 0 && this._events[type].length > m) {\n\t      this._events[type].warned = true;\n\t      console.error('(node) warning: possible EventEmitter memory ' +\n\t                    'leak detected. %d listeners added. ' +\n\t                    'Use emitter.setMaxListeners() to increase limit.',\n\t                    this._events[type].length);\n\t      if (typeof console.trace === 'function') {\n\t        // not supported in IE 10\n\t        console.trace();\n\t      }\n\t    }\n\t  }\n\t\n\t  return this;\n\t};\n\t\n\tEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\t\n\tEventEmitter.prototype.once = function(type, listener) {\n\t  if (!isFunction(listener))\n\t    throw TypeError('listener must be a function');\n\t\n\t  var fired = false;\n\t\n\t  function g() {\n\t    this.removeListener(type, g);\n\t\n\t    if (!fired) {\n\t      fired = true;\n\t      listener.apply(this, arguments);\n\t    }\n\t  }\n\t\n\t  g.listener = listener;\n\t  this.on(type, g);\n\t\n\t  return this;\n\t};\n\t\n\t// emits a 'removeListener' event iff the listener was removed\n\tEventEmitter.prototype.removeListener = function(type, listener) {\n\t  var list, position, length, i;\n\t\n\t  if (!isFunction(listener))\n\t    throw TypeError('listener must be a function');\n\t\n\t  if (!this._events || !this._events[type])\n\t    return this;\n\t\n\t  list = this._events[type];\n\t  length = list.length;\n\t  position = -1;\n\t\n\t  if (list === listener ||\n\t      (isFunction(list.listener) && list.listener === listener)) {\n\t    delete this._events[type];\n\t    if (this._events.removeListener)\n\t      this.emit('removeListener', type, listener);\n\t\n\t  } else if (isObject(list)) {\n\t    for (i = length; i-- > 0;) {\n\t      if (list[i] === listener ||\n\t          (list[i].listener && list[i].listener === listener)) {\n\t        position = i;\n\t        break;\n\t      }\n\t    }\n\t\n\t    if (position < 0)\n\t      return this;\n\t\n\t    if (list.length === 1) {\n\t      list.length = 0;\n\t      delete this._events[type];\n\t    } else {\n\t      list.splice(position, 1);\n\t    }\n\t\n\t    if (this._events.removeListener)\n\t      this.emit('removeListener', type, listener);\n\t  }\n\t\n\t  return this;\n\t};\n\t\n\tEventEmitter.prototype.removeAllListeners = function(type) {\n\t  var key, listeners;\n\t\n\t  if (!this._events)\n\t    return this;\n\t\n\t  // not listening for removeListener, no need to emit\n\t  if (!this._events.removeListener) {\n\t    if (arguments.length === 0)\n\t      this._events = {};\n\t    else if (this._events[type])\n\t      delete this._events[type];\n\t    return this;\n\t  }\n\t\n\t  // emit removeListener for all listeners on all events\n\t  if (arguments.length === 0) {\n\t    for (key in this._events) {\n\t      if (key === 'removeListener') continue;\n\t      this.removeAllListeners(key);\n\t    }\n\t    this.removeAllListeners('removeListener');\n\t    this._events = {};\n\t    return this;\n\t  }\n\t\n\t  listeners = this._events[type];\n\t\n\t  if (isFunction(listeners)) {\n\t    this.removeListener(type, listeners);\n\t  } else {\n\t    // LIFO order\n\t    while (listeners.length)\n\t      this.removeListener(type, listeners[listeners.length - 1]);\n\t  }\n\t  delete this._events[type];\n\t\n\t  return this;\n\t};\n\t\n\tEventEmitter.prototype.listeners = function(type) {\n\t  var ret;\n\t  if (!this._events || !this._events[type])\n\t    ret = [];\n\t  else if (isFunction(this._events[type]))\n\t    ret = [this._events[type]];\n\t  else\n\t    ret = this._events[type].slice();\n\t  return ret;\n\t};\n\t\n\tEventEmitter.listenerCount = function(emitter, type) {\n\t  var ret;\n\t  if (!emitter._events || !emitter._events[type])\n\t    ret = 0;\n\t  else if (isFunction(emitter._events[type]))\n\t    ret = 1;\n\t  else\n\t    ret = emitter._events[type].length;\n\t  return ret;\n\t};\n\t\n\tfunction isFunction(arg) {\n\t  return typeof arg === 'function';\n\t}\n\t\n\tfunction isNumber(arg) {\n\t  return typeof arg === 'number';\n\t}\n\t\n\tfunction isObject(arg) {\n\t  return typeof arg === 'object' && arg !== null;\n\t}\n\t\n\tfunction isUndefined(arg) {\n\t  return arg === void 0;\n\t}\n\n\n/***/ },\n\n/***/ 118:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"img/hihat.png\";\n\n/***/ },\n\n/***/ 119:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"img/kick.png\";\n\n/***/ },\n\n/***/ 120:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"img/snare.png\";\n\n/***/ },\n\n/***/ 121:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"img/tome1.png\";\n\n/***/ },\n\n/***/ 122:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"sounds/hihat.mp3\";\n\n/***/ },\n\n/***/ 123:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"sounds/kick.mp3\";\n\n/***/ },\n\n/***/ 124:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"sounds/snare.mp3\";\n\n/***/ },\n\n/***/ 125:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"sounds/tom1.mp3\";\n\n/***/ },\n\n/***/ 126:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Copyright (c) 2014-2015, Facebook, Inc.\n\t * All rights reserved.\n\t *\n\t * This source code is licensed under the BSD-style license found in the\n\t * LICENSE file in the root directory of this source tree. An additional grant\n\t * of patent rights can be found in the PATENTS file in the same directory.\n\t */\n\t\n\tmodule.exports.Dispatcher = __webpack_require__(127);\n\n\n/***/ },\n\n/***/ 127:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(process) {/**\n\t * Copyright (c) 2014-2015, Facebook, Inc.\n\t * All rights reserved.\n\t *\n\t * This source code is licensed under the BSD-style license found in the\n\t * LICENSE file in the root directory of this source tree. An additional grant\n\t * of patent rights can be found in the PATENTS file in the same directory.\n\t *\n\t * @providesModule Dispatcher\n\t * \n\t * @preventMunge\n\t */\n\t\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tvar invariant = __webpack_require__(128);\n\t\n\tvar _prefix = 'ID_';\n\t\n\t/**\n\t * Dispatcher is used to broadcast payloads to registered callbacks. This is\n\t * different from generic pub-sub systems in two ways:\n\t *\n\t *   1) Callbacks are not subscribed to particular events. Every payload is\n\t *      dispatched to every registered callback.\n\t *   2) Callbacks can be deferred in whole or part until other callbacks have\n\t *      been executed.\n\t *\n\t * For example, consider this hypothetical flight destination form, which\n\t * selects a default city when a country is selected:\n\t *\n\t *   var flightDispatcher = new Dispatcher();\n\t *\n\t *   // Keeps track of which country is selected\n\t *   var CountryStore = {country: null};\n\t *\n\t *   // Keeps track of which city is selected\n\t *   var CityStore = {city: null};\n\t *\n\t *   // Keeps track of the base flight price of the selected city\n\t *   var FlightPriceStore = {price: null}\n\t *\n\t * When a user changes the selected city, we dispatch the payload:\n\t *\n\t *   flightDispatcher.dispatch({\n\t *     actionType: 'city-update',\n\t *     selectedCity: 'paris'\n\t *   });\n\t *\n\t * This payload is digested by `CityStore`:\n\t *\n\t *   flightDispatcher.register(function(payload) {\n\t *     if (payload.actionType === 'city-update') {\n\t *       CityStore.city = payload.selectedCity;\n\t *     }\n\t *   });\n\t *\n\t * When the user selects a country, we dispatch the payload:\n\t *\n\t *   flightDispatcher.dispatch({\n\t *     actionType: 'country-update',\n\t *     selectedCountry: 'australia'\n\t *   });\n\t *\n\t * This payload is digested by both stores:\n\t *\n\t *   CountryStore.dispatchToken = flightDispatcher.register(function(payload) {\n\t *     if (payload.actionType === 'country-update') {\n\t *       CountryStore.country = payload.selectedCountry;\n\t *     }\n\t *   });\n\t *\n\t * When the callback to update `CountryStore` is registered, we save a reference\n\t * to the returned token. Using this token with `waitFor()`, we can guarantee\n\t * that `CountryStore` is updated before the callback that updates `CityStore`\n\t * needs to query its data.\n\t *\n\t *   CityStore.dispatchToken = flightDispatcher.register(function(payload) {\n\t *     if (payload.actionType === 'country-update') {\n\t *       // `CountryStore.country` may not be updated.\n\t *       flightDispatcher.waitFor([CountryStore.dispatchToken]);\n\t *       // `CountryStore.country` is now guaranteed to be updated.\n\t *\n\t *       // Select the default city for the new country\n\t *       CityStore.city = getDefaultCityForCountry(CountryStore.country);\n\t *     }\n\t *   });\n\t *\n\t * The usage of `waitFor()` can be chained, for example:\n\t *\n\t *   FlightPriceStore.dispatchToken =\n\t *     flightDispatcher.register(function(payload) {\n\t *       switch (payload.actionType) {\n\t *         case 'country-update':\n\t *         case 'city-update':\n\t *           flightDispatcher.waitFor([CityStore.dispatchToken]);\n\t *           FlightPriceStore.price =\n\t *             getFlightPriceStore(CountryStore.country, CityStore.city);\n\t *           break;\n\t *     }\n\t *   });\n\t *\n\t * The `country-update` payload will be guaranteed to invoke the stores'\n\t * registered callbacks in order: `CountryStore`, `CityStore`, then\n\t * `FlightPriceStore`.\n\t */\n\t\n\tvar Dispatcher = (function () {\n\t  function Dispatcher() {\n\t    _classCallCheck(this, Dispatcher);\n\t\n\t    this._callbacks = {};\n\t    this._isDispatching = false;\n\t    this._isHandled = {};\n\t    this._isPending = {};\n\t    this._lastID = 1;\n\t  }\n\t\n\t  /**\n\t   * Registers a callback to be invoked with every dispatched payload. Returns\n\t   * a token that can be used with `waitFor()`.\n\t   */\n\t\n\t  Dispatcher.prototype.register = function register(callback) {\n\t    var id = _prefix + this._lastID++;\n\t    this._callbacks[id] = callback;\n\t    return id;\n\t  };\n\t\n\t  /**\n\t   * Removes a callback based on its token.\n\t   */\n\t\n\t  Dispatcher.prototype.unregister = function unregister(id) {\n\t    !this._callbacks[id] ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Dispatcher.unregister(...): `%s` does not map to a registered callback.', id) : invariant(false) : undefined;\n\t    delete this._callbacks[id];\n\t  };\n\t\n\t  /**\n\t   * Waits for the callbacks specified to be invoked before continuing execution\n\t   * of the current callback. This method should only be used by a callback in\n\t   * response to a dispatched payload.\n\t   */\n\t\n\t  Dispatcher.prototype.waitFor = function waitFor(ids) {\n\t    !this._isDispatching ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Dispatcher.waitFor(...): Must be invoked while dispatching.') : invariant(false) : undefined;\n\t    for (var ii = 0; ii < ids.length; ii++) {\n\t      var id = ids[ii];\n\t      if (this._isPending[id]) {\n\t        !this._isHandled[id] ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Dispatcher.waitFor(...): Circular dependency detected while ' + 'waiting for `%s`.', id) : invariant(false) : undefined;\n\t        continue;\n\t      }\n\t      !this._callbacks[id] ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Dispatcher.waitFor(...): `%s` does not map to a registered callback.', id) : invariant(false) : undefined;\n\t      this._invokeCallback(id);\n\t    }\n\t  };\n\t\n\t  /**\n\t   * Dispatches a payload to all registered callbacks.\n\t   */\n\t\n\t  Dispatcher.prototype.dispatch = function dispatch(payload) {\n\t    !!this._isDispatching ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch.') : invariant(false) : undefined;\n\t    this._startDispatching(payload);\n\t    try {\n\t      for (var id in this._callbacks) {\n\t        if (this._isPending[id]) {\n\t          continue;\n\t        }\n\t        this._invokeCallback(id);\n\t      }\n\t    } finally {\n\t      this._stopDispatching();\n\t    }\n\t  };\n\t\n\t  /**\n\t   * Is this Dispatcher currently dispatching.\n\t   */\n\t\n\t  Dispatcher.prototype.isDispatching = function isDispatching() {\n\t    return this._isDispatching;\n\t  };\n\t\n\t  /**\n\t   * Call the callback stored with the given id. Also do some internal\n\t   * bookkeeping.\n\t   *\n\t   * @internal\n\t   */\n\t\n\t  Dispatcher.prototype._invokeCallback = function _invokeCallback(id) {\n\t    this._isPending[id] = true;\n\t    this._callbacks[id](this._pendingPayload);\n\t    this._isHandled[id] = true;\n\t  };\n\t\n\t  /**\n\t   * Set up bookkeeping needed when dispatching.\n\t   *\n\t   * @internal\n\t   */\n\t\n\t  Dispatcher.prototype._startDispatching = function _startDispatching(payload) {\n\t    for (var id in this._callbacks) {\n\t      this._isPending[id] = false;\n\t      this._isHandled[id] = false;\n\t    }\n\t    this._pendingPayload = payload;\n\t    this._isDispatching = true;\n\t  };\n\t\n\t  /**\n\t   * Clear bookkeeping used for dispatching.\n\t   *\n\t   * @internal\n\t   */\n\t\n\t  Dispatcher.prototype._stopDispatching = function _stopDispatching() {\n\t    delete this._pendingPayload;\n\t    this._isDispatching = false;\n\t  };\n\t\n\t  return Dispatcher;\n\t})();\n\t\n\tmodule.exports = Dispatcher;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)))\n\n/***/ },\n\n/***/ 128:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(process) {/**\n\t * Copyright 2013-2015, Facebook, Inc.\n\t * All rights reserved.\n\t *\n\t * This source code is licensed under the BSD-style license found in the\n\t * LICENSE file in the root directory of this source tree. An additional grant\n\t * of patent rights can be found in the PATENTS file in the same directory.\n\t *\n\t * @providesModule invariant\n\t */\n\t\n\t\"use strict\";\n\t\n\t/**\n\t * Use invariant() to assert state which your program assumes to be true.\n\t *\n\t * Provide sprintf-style format (only %s is supported) and arguments\n\t * to provide information about what broke and what you were\n\t * expecting.\n\t *\n\t * The invariant message will be stripped in production, but the invariant\n\t * will remain to ensure logic does not differ in production.\n\t */\n\t\n\tvar invariant = function (condition, format, a, b, c, d, e, f) {\n\t  if (process.env.NODE_ENV !== 'production') {\n\t    if (format === undefined) {\n\t      throw new Error('invariant requires an error message argument');\n\t    }\n\t  }\n\t\n\t  if (!condition) {\n\t    var error;\n\t    if (format === undefined) {\n\t      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n\t    } else {\n\t      var args = [a, b, c, d, e, f];\n\t      var argIndex = 0;\n\t      error = new Error('Invariant Violation: ' + format.replace(/%s/g, function () {\n\t        return args[argIndex++];\n\t      }));\n\t    }\n\t\n\t    error.framesToPop = 1; // we don't care about invariant's own frame\n\t    throw error;\n\t  }\n\t};\n\t\n\tmodule.exports = invariant;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)))\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** bundle.js\n **/","var DrumKitDispatcher = require('../dispatcher/DrumKitDispatcher');\nvar DrumKitConstants = require('../constants/DrumKitConstants');\n\nvar DrumKitActions = {\n  addItem: function(item){\n    DrumKitDispatcher.handleViewAction({\n      actionType:DrumKitConstants.ADD_ITEM,\n      item: item\n    })\n  },\n\n  bpmChange: function(item){\n    DrumKitDispatcher.handleViewAction({\n      actionType:DrumKitConstants.CHANGE_BPM,\n      item: item\n    })\n  },\n\n  bitPushed: function(bitpushed){\n    DrumKitDispatcher.handleViewAction({\n      actionType:DrumKitConstants.BIT_PUSHED,\n      bitpushed: bitpushed\n    })\n  },\n\n  setCurrentTime: function(item){\n    DrumKitDispatcher.handleViewAction({\n      actionType:DrumKitConstants.SET_CURRENTTIME,\n      item: item\n    })\n  },\n\n\n  pausedtimeChange: function(item){\n    DrumKitDispatcher.handleViewAction({\n      actionType:DrumKitConstants.CHANGE_PAUSEDTIME,\n      item: item\n    })\n  },\n\n  playDrumKit: function(){\n    DrumKitDispatcher.handleViewAction({\n      actionType:DrumKitConstants.PLAY_DRUMKIT\n    })\n  },\n\n  stopDrumKit: function(){\n    DrumKitDispatcher.handleViewAction({\n      actionType:DrumKitConstants.STOP_DRUMKIT\n    })\n  },\n\n  changeBit:function(instrument, bitindex, bit){\n    DrumKitDispatcher.handleViewAction({\n      actionType:DrumKitConstants.CHANGE_BIT,\n      instrument: instrument,\n      bitindex: bitindex,\n      bit: bit\n    })\n  },\n\n  loadDrumKit: function(){\n    DrumKitDispatcher.handleViewAction({\n      actionType:DrumKitConstants.LOAD_DRUMKIT\n    })\n  },\n\n  timeChange: function(item){\n    DrumKitDispatcher.handleViewAction({\n      actionType:DrumKitConstants.CHANGE_TIME,\n      item: item\n    })\n  }\n}\n\nmodule.exports = DrumKitActions\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/actions/DrumKitActions.js\n **/","module.exports = {\n  CHANGE_TIME: 'CHANGE_TIME',\n  CHANGE_BPM: 'CHANGE_BPM',\n  PLAY_DRUMKIT: 'PLAY_DRUMKIT',\n  LOAD_DRUMKIT: 'LOAD_DRUMKIT',\n  CHANGE_BIT: 'CHANGE_BIT',\n  SET_CURRENTTIME: 'SET_CURRENTTIME',\n  CHANGE_PAUSEDTIME: 'CHANGE_PAUSEDTIME',\n  STOP_DRUMKIT: 'STOP_DRUMKIT',\n  ADD_ITEM: 'ADD_ITEM',\n  REMOVE_ITEM: 'REMOVE_ITEM',\n  BIT_PUSHED: 'BIT_PUSHED'\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/constants/DrumKitConstants.js\n **/","var Dispatcher = require('flux').Dispatcher;\nvar assign = require('object-assign');\n\nvar DrumKitDispatcher = assign(new Dispatcher(), {\n  handleViewAction: function(action) {\n    this.dispatch({\n      source: 'DRUMKIT_ACTION',\n      action: action\n    });\n  }\n});\n\nmodule.exports = DrumKitDispatcher;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/dispatcher/DrumKitDispatcher.js\n **/","var DrumKitDispatcher = require('../dispatcher/DrumKitDispatcher');\nvar DrumKitConstants = require('../constants/DrumKitConstants');\nvar EventEmitter = require('events').EventEmitter;\nvar assign = require('object-assign');\n\nvar CHANGE_EVENT = 'change';\nvar NEW_BIT = 'newbit';\nvar TIME_CHANGED = 'timechanged';\nvar BIT_UPDATED = 'bitupdated';\nvar BIT_PUSHED = 'bitpushed';\n\nvar _data = {\n  bpm:0,\n  time:0,\n  bitnumber:0,\n  elapsedtime:0,\n  instruments:[]\n}\n\nvar currentBit=0;\nvar bitPushed=0;\n\nvar audioCtx;\nvar soundkit = [];\n\nvar timerId;\nvar startTime = 0;\nvar pausedTime=0;\nvar noteTime;\n\nfunction loadAudioContext(){\n  try {\n    // Fix up for prefixing\n    window.AudioContext = window.AudioContext||window.webkitAudioContext;\n    audioCtx = new AudioContext();\n  }\n  catch(e) {\n    alert('Web Audio API is not supported in this browser');\n  }\n}\n\nfunction playSound(buffer, playtime) {\n  var source = audioCtx.createBufferSource(); // creates a sound source\n  source.buffer = buffer;                    // tell the source which sound to play\n  source.connect(audioCtx.destination);       // connect the source to the context's destination (the speakers)\n  source.start(playtime);                       // play the source now                                           // note: on older systems, may have to use deprecated noteOn(time);\n}\n\n\nfunction loadSounds()\n{\n  for (var i = 0; i < _data.instruments.length; i++){\n    loadSound(_data.instruments[i].soundurl);\n    console.log(_data.instruments[i].name + \" chargé\")\n  }\n}\n\nfunction loadSound(url) {\n  var request = new XMLHttpRequest();\n  request.open('GET', url, true);\n  request.responseType = 'arraybuffer';\n\n  // Decode asynchronously\n  request.onload = function() {\n    audioCtx.decodeAudioData(request.response, function(buffer) {\n      soundkit.push(buffer);\n    }, function(error) {\n        console.error(\"decodeAudioData error\", error);\n    });\n  }\n  request.send();\n}\n\nfunction setBitNumber(){\n  _data.bitnumber =parseInt(_data.bpm)*parseInt(_data.time)/60;\n\n  //Pour chaque instrument\n    for (var i = 0; i < _data.instruments.length; i++){\n      //On met à jour tous les bits\n      console.log(\"Nombre de bits: \" + _data.bitnumber)\n      for (var j = 0; j < _data.bitnumber; j++){\n        if(typeof _data.instruments[i].bits[j] == 'undefined'){\n          _data.instruments[i].bits.push(0);\n        }\n        if(_data.bitnumber < _data.instruments[i].bits.length)\n        {\n          _data.instruments[i].bits.splice(_data.bitnumber, 1)\n        }\n      }\n    }\n  }\n\nfunction stopDrum(){\n  pausedTime = audioCtx.currentTime - startTime + pausedTime;\n  currentBit=0;\n  _data.elapsedtime=0;\n  pausedTime=0;\n  DrumKitStore.emitPausedTime();\n  DrumKitStore.emitCurrentBit();\n  clearTimeout(timerId);\n}\n\nfunction launchDrumKit(){\n  noteTime = 0.0;\n  startTime = audioCtx.currentTime + 0.005;\n  //currentBit = 0;\n  schedule();\n}\n\nfunction schedule() {\n  var currentTime = audioCtx.currentTime;\n  // The sequence starts at startTime, so normalize currentTime so that it's 0 at the start of the sequence.\n  currentTime -= startTime;\n\n  while (noteTime < currentTime + 0.200) {\n    var contextPlayTime = noteTime + startTime;\n\n    //Insert playing notes here\n    DrumKitStore.emitCurrentBit();\n    _data.elapsedtime = currentTime + pausedTime;\n    DrumKitStore.emitPausedTime();\n    for (var i = 0; i < _data.instruments.length; i++){\n      if(_data.instruments[i].bits[currentBit] == 1){\n        playSound(soundkit[i], contextPlayTime);\n      }\n    }\n    advanceNote();\n  }\n  timerId = setTimeout(schedule, 0);\n}\n\nfunction advanceNote() {\n    var secondsPerBeat = 60.0 / _data.bpm;\n    currentBit++;\n    //boucle après 50 loops\n    console.log(\"currentBit: \" + currentBit);\n    console.log(\"bitnumber: \" + _data.bitnumber);\n    if (currentBit == _data.bitnumber) {\n      stopDrum();\n    }\n    //0.25 because each square is a 16th note\n    noteTime += secondsPerBeat;\n}\n\n\n// function playDrum(){\n//     var currentTime = audioCtx.currentTime;\n//     elapsedtime = (audioCtx.currentTime - startTime) + pausedTime;\n//\n//     DrumKitStore.emitPausedTime();\n//     DrumKitStore.emitCurrentBit();\n//\n//\n//     //play sounds\n//     for (var i = 0; i < _data.instruments.length; i++){\n//       if(_data.instruments[i].bits[currentBit] == 1){\n//         playSound(soundkit[i], 0);\n//       }\n//     }\n//     currentBit++;\n//\n//     timerId = setTimeout(function() {\n//         playDrum();\n//     }, 60000 / _data.bpm)\n// }\n\nfunction playBit(instrumentindex, bitindex, bitvalue){\n    // console.log(\"oldbit: \" + _data.instruments[instrumentindex].bits[bitindex]);\n    // console.log(\"newbit: \" + bitvalue);\n    if(bitvalue==1)\n    {\n      playSound(soundkit[instrumentindex], 0)\n    }\n}\n\n\nfunction loadInstrumentsFromServer() {\n  $.ajax({\n    url: \"/api/getdrumkit\",\n    dataType: 'json',\n    cache: false,\n    success: function(data) {\n      _data.bpm= data.bpm,\n      _data.time=data.time,\n      _data.instruments=  data.instruments,\n      setBitNumber(),\n      DrumKitStore.emitChange();\n    }.bind(this),\n    error: function(xhr, status, err) {\n      console.error(this.props.url, status, err.toString());\n    }.bind(this)\n  });\n}\n\nvar DrumKitStore = assign({}, EventEmitter.prototype, {\n\n  getDrumKitInfos: function() {\n    return _data;\n  },\n\n  getCurrentBit: function() {\n    return currentBit;\n  },\n\n  getBitPushed: function(instrument) {\n    return bitPushed;\n  },\n\n  getBitsInstrument: function(instrument) {\n    return _data.instruments[instrument].bits;\n  },\n\n  emitCurrentBit: function() {\n    this.emit(NEW_BIT);\n  },\n  /**\n   * @param {function} callback\n   */\n  addBitListener: function(callback) {\n    this.on(NEW_BIT, callback);\n  },\n\n  emitBitUpdated: function() {\n    this.emit(BIT_UPDATED);\n  },\n\n  addBitPushedListener: function(callback) {\n    this.on(BIT_PUSHED, callback);\n  },\n\n  emitBitPushed: function() {\n    this.emit(BIT_PUSHED);\n  },\n\n  addBitUpdatedListener: function(callback) {\n    this.on(BIT_UPDATED, callback);\n  },\n\n  getCurrentTime: function() {\n    return _data.elapsedtime;\n  },\n\n  emitPausedTime: function() {\n    this.emit(TIME_CHANGED);\n  },\n\n  addPausedsedTimeListener: function(callback) {\n    this.on(TIME_CHANGED, callback);\n  },\n\n  emitChange: function() {\n    this.emit(CHANGE_EVENT);\n  },\n\n  /**\n   * @param {function} callback\n   */\n  addChangedListener: function(callback) {\n    this.on(CHANGE_EVENT, callback);\n  }\n});\n\nDrumKitDispatcher.register(function(payload){\n  var action = payload.action;\n\n  switch(action.actionType) {\n    case DrumKitConstants.CHANGE_TIME:\n      console.log(action.item);\n      _data.time= action.item;\n      setBitNumber();\n      DrumKitStore.emitChange();\n      break;\n\n    case DrumKitConstants.CHANGE_BPM:\n        _data.bpm = action.item;\n        setBitNumber();\n        DrumKitStore.emitChange();\n        break;\n    case DrumKitConstants.CHANGE_BIT:\n        _data.instruments[action.instrument].bits[action.bitindex] = action.bit;\n        playBit(action.instrument, action.bitindex, action.bit);\n        DrumKitStore.emitBitUpdated();\n        break;\n    case DrumKitConstants.CHANGE_PAUSEDTIME:\n        pausedTime = action.item;\n        DrumKitStore.emitPausedTime();\n        break;\n    case DrumKitConstants.LOAD_DRUMKIT:\n        loadInstrumentsFromServer();\n        DrumKitStore.emitChange();\n        break;\n\n    case DrumKitConstants.SET_CURRENTTIME:\n        DrumKitStore.emitPausedTime();\n        _data.elapsedtime = payload.action.item;\n        break;\n\n    case DrumKitConstants.BIT_PUSHED:\n        bitPushed = action.bitpushed;\n        DrumKitStore.emitBitPushed();\n        console.log(action)\n        break;\n\n    case DrumKitConstants.PLAY_DRUMKIT:\n        // startTime =  audioCtx.currentTime;\n        // playDrum();\n        launchDrumKit();\n        break;\n    case DrumKitConstants.STOP_DRUMKIT:\n        stopDrum();\n        break;\n\n    case DrumKitConstants.ADD_ITEM:\n      loadAudioContext();\n      loadSounds();\n      DrumKitStore.emitChange();\n      break;\n  }\n\n      return true; // No errors. Needed by promise in Dispatcher.\n\n});\n\nmodule.exports = DrumKitStore;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/stores/DrumKitStore.js\n **/","'use strict';\n\nfunction ToObject(val) {\n\tif (val == null) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nmodule.exports = Object.assign || function (target, source) {\n\tvar pendingException;\n\tvar from;\n\tvar keys;\n\tvar to = ToObject(target);\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = arguments[s];\n\t\tkeys = Object.keys(Object(from));\n\n\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\ttry {\n\t\t\t\tto[keys[i]] = from[keys[i]];\n\t\t\t} catch (err) {\n\t\t\t\tif (pendingException === undefined) {\n\t\t\t\t\tpendingException = err;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tif (pendingException) {\n\t\tthrow pendingException;\n\t}\n\n\treturn to;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/object-assign/index.js\n ** module id = 63\n ** module chunks = 1\n **/","var React = require('react');\n\nvar CurrentBitDisplayer = React.createClass({\n\n  render:function(){\n    var thisStyle = {\n      'position':'absolute',\n      'height': '100%',\n      'backgroundColor': 'beige',\n      'width': this.props.timewidth,\n      'zIndex': '-1'\n    }\n    var currentBitShower = {\n      'height': '100%',\n      'width': this.props.bitswidth,\n      'backgroundColor': 'blueviolet',\n      'left': this.props.bitswidth * this.props.currentbit,\n      'position': 'absolute'\n    }\n    return (\n      <div className=\"currentBitDisplayer\" style={thisStyle}>\n        <div style={currentBitShower}></div>\n      </div>\n    );\n    }\n});\n\nmodule.exports = CurrentBitDisplayer;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/components/CurrentBitDisplayer.js\n **/","var React = require('react');\nvar DrumKitActions = require('../actions/DrumKitActions');\nvar DrumKitStore = require('../stores/DrumKitStore');\nvar InstrumentBitsList = require('./InstrumentBitsList');\nvar InstrumentInfos = require('./InstrumentInfos');\nvar DrumKitConsole = require('./DrumKitConsole');\nvar TimeLine = require('./TimeLine');\nvar CurrentBitDisplayer = require('./CurrentBitDisplayer');\n\nvar timeWidth = 6200;\n\nfunction getdrumkitData() {\n  var dkinfo = DrumKitStore.getDrumKitInfos();\n  return {\n    bpm: dkinfo.bpm,\n    time: dkinfo.time,\n    bitnumber:dkinfo.bitnumber,\n    instruments: dkinfo.instruments,\n    elapsedtime: dkinfo.elapsedtime\n  };\n}\n\nfunction getCurrentBit(){\n  return{\n    currentbit: DrumKitStore.getCurrentBit()\n  };\n}\n\nfunction getGetBitPushed(){\n  console.log(\"getGetBitPushed: \" + DrumKitStore.getBitPushed())\n  return{\n    bitPushed: DrumKitStore.getBitPushed()\n  };\n}\n\nfunction getBitsWidth(bitnumber) {\n  return timeWidth / bitnumber;\n}\n\nfunction GetCurrentTime(){\n  return{\n    elapsedtime: DrumKitStore.getCurrentTime()\n  };\n}\n\nvar DrumKit = React.createClass({\n  getInitialState: function() {\n    return getdrumkitData()\n  },\n\n  componentDidMount: function() {\n    DrumKitStore.addChangedListener(this._onChange);\n    DrumKitStore.addBitListener(this._onBitChange);\n    DrumKitStore.addPausedsedTimeListener(this._OnTimeChanged);\n    DrumKitStore.addBitPushedListener(this._OnBitPushed);\n    DrumKitActions.loadDrumKit();\n\n  },\n\n  handleKeyPress:function(){\n    switch(event.keyCode.toString()) {\n            case \"104\":\n                DrumKitActions.changeBit(0, this.state.currentbit, 1);\n                break;\n            case \"107\":\n                DrumKitActions.changeBit(2, this.state.currentbit, 1);\n                break;\n            case \"115\":\n                DrumKitActions.changeBit(1, this.state.currentbit, 1);\n                break;\n            default:\n            //do nothing\n        }\n        DrumKitActions.bitPushed(this.state.currentbit);\n  },\n    handleClick:function(){\n      DrumKitActions.addItem('this is the item');\n    },\n    render:function(){\n      console.log(\"DrumKitRender\")\n      var s = {\n        timeStyle: {\n          'width':timeWidth\n        },\n        tlcontent: {\n          'height':\"8px\",\n          'marginTop':'5px',\n          'marginBottom':'20px'\n        }\n      };\n      return (\n\n        <div className=\"drumKit\" onKeyPress={this.handleKeyPress}>\n          <h3 onClick={this.handleClick}>Load Audio Context</h3>\n            <div className=\"instrumentInfosContent\" style={{'float':'left'}}>\n              <div className=\"emptyTab\" style={s.tlcontent}>\n              </div>\n              <InstrumentInfos instruments={this.state.instruments}/>\n            </div>\n            <div className=\"notesContent\" style={{'float':'left','maxWidth':'1000px','overflowX':'auto','position':'relative'}}>\n              <div className=\"timeLineContainer\" style={s.timeStyle}>\n                <TimeLine songTime={this.state.time} elapsedtime={this.state.elapsedtime} timeWidth={timeWidth} style={s.tlcontent} />\n              </div>\n              <div className=\"InstrumentBitsListContainer\" style={s.timeStyle}>\n                <CurrentBitDisplayer timewidth={timeWidth} bitswidth={getBitsWidth(this.state.bitnumber)} currentbit={this.state.currentbit} />\n                <InstrumentBitsList timeWidth={timeWidth} bitPushed={this.state.bitPushed} bitsWidth={getBitsWidth(this.state.bitnumber)} instruments={this.state.instruments}/>\n              </div>\n            </div>\n            <div style={{'clear':'both'}}></div>\n            <div>\n              <DrumKitConsole elapsedtime={this.state.elapsedtime} bitnumber={this.state.bitnumber} bpm={this.state.bpm} time={this.state.time}/>\n            </div>\n        </div>\n      )\n    },\n  _onChange: function() {\n    this.setState(getdrumkitData());\n  },\n  _onBitChange: function() {\n    this.setState(getCurrentBit());\n  },\n\n  _OnBitPushed: function() {\n    this.setState(getGetBitPushed());\n  },\n\n  _OnTimeChanged: function() {\n    this.setState(GetCurrentTime());\n  },\n  });\n\nmodule.exports = DrumKit;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/components/DrumKit.js\n **/","var React = require('react');\nvar DrumKitActions = require('../actions/DrumKitActions');\n\n\nvar DrumKitConsole = React.createClass({\n  timeChange: function(event) {\n    DrumKitActions.timeChange(event.target.value);\n  },\n  bpmChange: function(event) {\n    DrumKitActions.bpmChange(event.target.value);\n  },\n  handlePlay:function(){\n    DrumKitActions.playDrumKit(0);\n  },\n  handleStop:function(){\n    DrumKitActions.stopDrumKit(0);\n  },\n  pausedTimeChange: function(event) {\n    DrumKitActions.pausedtimeChange(event.target.value);\n  },\n\n  render:function(){\n      return (\n        <div className=\"drumKitConsole\">\n          <div className=\"row\">\n          <form className=\"form\" role=\"form\">\n          <div className=\"col-xs-1\">\n            <label for=\"ex1\">time:</label>\n            <input type=\"number\" className=\"form-control\" step=\"1\" min=\"0\" id=\"time\" value={this.props.time} onChange={this.timeChange} aria-describedby=\"basic-addon3\"/>\n          </div>\n          <div className=\"col-xs-1\">\n            <label for=\"ex1\">bpm:</label>\n            <input type=\"number\" className=\"form-control\" step=\"1\" min=\"0\" id=\"bpm\" value={this.props.bpm} onChange={this.bpmChange} aria-describedby=\"basic-addon3\"/>\n          </div>\n          <div className=\"col-xs-1\">\n            <label for=\"ex1\">bitnumber:</label>\n            <input type=\"number\" className=\"form-control\" readOnly={true} step=\"1\" min=\"0\" id=\"bitnumber\" value={this.props.bitnumber} aria-describedby=\"basic-addon3\"/>\n          </div>\n          <div className=\"col-xs-1\">\n            <label for=\"ex1\">ElapsedTime:</label>\n            <input type=\"number\" className=\"form-control\" min=\"0\" step=\"any\" value={this.props.elapsedtime} onChange={this.pausedTimeChange} id=\"elapsedtime\" aria-describedby=\"basic-addon3\"/>\n          </div>\n         </form>\n       </div>\n         <div className=\"row\">\n           <a href=\"#\" className=\"btn btn-sm btn-default\" onClick={this.handlePlay}><span className=\"glyphicon glyphicon-play\"></span> </a>\n           <a href=\"#\" className=\"btn btn-sm btn-default\" onClick={this.handleStop}><span className=\"glyphicon glyphicon-stop\"></span> </a>\n           <a href=\"#\" className=\"btn btn-sm btn-default\" onClick={this.handleStop}><span className=\"glyphicon glyphicon-pause\"></span> </a>\n         </div>\n        </div>\n      );\n    }\n});\n\nmodule.exports = DrumKitConsole;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/components/DrumKitConsole.js\n **/","var React = require('react');\nvar DrumKitActions = require('../actions/DrumKitActions');\nvar DrumKitStore = require('../stores/DrumKitStore');\n\nvar bitOnStyle = {\n  'border': '1px solid silver',\n  'borderRadius':'5px',\n  'width':'40%',\n  'height':'80%',\n  'margin':'auto',\n  'background':'silver'\n}\n\nvar bitOffStyle = {\n  'border': '1px solid silver',\n  'borderRadius':'5px',\n  'width':'40%',\n  'height':'80%',\n  'margin':'auto'\n}\n\n\n\nfunction getBitStyle(bitValue) {\n  if(bitValue==1){return bitOnStyle}\n  else {return bitOffStyle}\n}\n\nfunction getbits(thisinstrument) {\nvar thisbits = DrumKitStore.getBitsInstrument(thisinstrument);\n  return {\n    bits: thisbits\n  };\n}\n\nvar InstrumentBits = React.createClass({\n  getInitialState: function() {\n    return{\n      bits: DrumKitStore.getBitsInstrument(this.props.instindex)\n    };\n  },\n\n   shouldComponentUpdate: function(nextProps, nextState) {\n     console.log(\"shouldComponentUpdate_bitPushed: \" + this.props.bitPushed);\n     console.log(\"shouldComponentUpdate_bitPushed_(nextState): \" + nextProps.bitPushed);\n     console.log(this.state[nextProps.bitPushed] != nextState[nextProps.bitPushed])\n    //  console.log(\"bitClicked: \" + bitClicked)\n    //  console.log(this.state[bitClicked]);\n    //  console.log(nextState[bitClicked]);\n    //  console.log(this.state[bitClicked] != nextState[bitClicked]);\n    //  console.log(arraysEqual(this.state, nextState))\n     return this.state[nextProps.bitPushed] != nextState[nextProps.bitPushed] ||\n     this.props.bitsWidth != nextProps.bitsWidth;\n  },\n\n  bitClicked:function(event){\n    var bitIndex = $(event.target).parent().data('index');\n    var bitValue = $(event.target).parent().attr('data-bitvalue');\n    //var bitValue = $(event.target).text();\n    var currentInstrument = $(event.target).closest('.instrumentBits').data('index');\n\n    DrumKitActions.bitPushed(bitIndex);\n\n    if(parseInt(bitValue) == 1)\n    {\n      DrumKitActions.changeBit(currentInstrument, bitIndex, 0);\n\n    }\n    else {\n      DrumKitActions.changeBit(currentInstrument, bitIndex, 1);\n    }\n  },\n\n  componentDidMount: function() {\n    DrumKitStore.addBitUpdatedListener(this._onChange);\n    getbits(this.props.instindex);\n  },\n\n  render: function() {\n    console.log(\"InstrumentBits Render----------------------------------------\")\n    var s = {\n      instrumentBits: {\n        'height':'24px',\n        'outline':'1px solid',\n        'display': 'table',\n        'width': this.props.timeWidth\n      },\n      instrumentBitsContent:{\n        'display': 'table-cell',\n        'verticalAlign': 'middle',\n      },\n      bitContentStyle: {\n        'float': 'left',\n        'outline':'1px solid silver',\n        'width':this.props.bitsWidth,\n        'height':'10',\n      },\n      bitIsPlayedStyle: {\n        'float': 'left',\n        'outline':'1px solid silver',\n        'width':this.props.bitsWidth,\n        'height':'10',\n        'background':'black'\n      }\n    };\n\n    var instrumentBits = this.state.bits.map((function(bit,i) {\n      return (\n        <div style={s.bitContentStyle} data-bitvalue={bit} key={i} data-index={i} onClick={this.bitClicked} className=\"instrumentBit\">\n          <div style={getBitStyle(bit)}></div>\n        </div>\n      );\n    }).bind(this));\n\n    return (\n      <div className=\"instrumentBits\" style={s.instrumentBits} data-index={this.props.instindex}>\n        <div style={s.instrumentBitsContent}>\n          {instrumentBits}\n        </div>\n      </div>\n    );\n  },\n  _onChange: function() {\n    this.setState(DrumKitStore.getBitsInstrument(this.props.instindex));\n  },\n});\n\nmodule.exports = InstrumentBits;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/components/InstrumentBits.js\n **/","var React = require('react');\nvar InstrumentBits= require('./InstrumentBits');\nvar DrumKitActions = require('../actions/DrumKitActions');\n\n\nvar InstrumentsList = React.createClass({\n  handleTimeMove:function(e){\n    DrumKitActions.setCurrentTime(e.target.value);\n  },\n\n  render: function() {\n    var instrumentBitNodes = this.props.instruments.map((function(instrument,i) {\n      return (\n        <InstrumentBits\n          bitPushed={this.props.bitPushed}\n          timeWidth={this.props.timeWidth}\n          bitsWidth={this.props.bitsWidth}\n          key={i}\n          instindex={i}>\n        </InstrumentBits>\n      );\n    }).bind(this));\n\n    return (\n      <div className=\"instrumentBitsList\">\n        {instrumentBitNodes}\n      </div>\n    );\n  },\n});\n\nmodule.exports = InstrumentsList;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/components/InstrumentBitsList.js\n **/","var React = require('react');\n\n\nvar InstrumentInfos = React.createClass({\n  render: function() {\n    var instrumentInfosNodes = this.props.instruments.map(function(instrument,i) {\n      return (\n        <div className=\"instrumentName\" key={i} style={{width:'24',height:'24','outline':'1px solid'}}>\n          <img src={instrument.imgurl} alt={instrument.name} height=\"24\" width=\"24\" />\n        </div>\n      );\n    });\n\n    return (\n      <div className=\"instrumentInfosList\">\n        {instrumentInfosNodes}\n      </div>\n    );\n  },\n});\n\nmodule.exports = InstrumentInfos;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/components/InstrumentInfos.js\n **/","var React = require('react');\n\n\nfunction getSecondsWidth(timeWidth, songTime) {\n  return timeWidth/songTime;\n}\n\nfunction getElapsedTimeWidth(timeWidth, songTime, elapsedTime){\n  return timeWidth / songTime * elapsedTime;\n}\n\nvar TimeLine = React.createClass({\n  render:function(){\n    var second = {\n      'outline':'1px solid gray',\n      'width':getSecondsWidth(this.props.timeWidth, this.props.songTime),\n      'height':'8',\n      'float':'left',\n      'display':'block'\n    };\n\n    var elapsedtime = {\n      'height':'100%',\n      'background':'gray',\n      'width':getElapsedTimeWidth(this.props.timeWidth, this.props.songTime, this.props.elapsedtime),\n    }\n\n    var rows = [];\n    for (var i = 0; i < this.props.songTime; i++) {\n        rows.push(<div key={i} style={second}><span style={{'fontSize':'xx-small'}}>{i}</span></div>)\n    }\n      return (\n        <div className=\"timeLine\" style={this.props.style}>\n          <div className=\"progressBar\" style={elapsedtime}></div>\n          {rows}\n        </div>\n      );\n    }\n});\n\nmodule.exports = TimeLine;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/components/TimeLine.js\n **/","import React from 'react';\nimport ReactDom from 'react-dom';\n\nvar DrumKit = require('./components/DrumKit.js');\n\nReactDom.render(\n  <DrumKit url=\"/api/getdrumkit\" />,\n  document.getElementById('main')\n);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/main.js\n **/","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      }\n      throw TypeError('Uncaught, unspecified \"error\" event.');\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        len = arguments.length;\n        args = new Array(len - 1);\n        for (i = 1; i < len; i++)\n          args[i - 1] = arguments[i];\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    len = arguments.length;\n    args = new Array(len - 1);\n    for (i = 1; i < len; i++)\n      args[i - 1] = arguments[i];\n\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    var m;\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  var ret;\n  if (!emitter._events || !emitter._events[type])\n    ret = 0;\n  else if (isFunction(emitter._events[type]))\n    ret = 1;\n  else\n    ret = emitter._events[type].length;\n  return ret;\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/events/events.js\n ** module id = 102\n ** module chunks = 1\n **/","module.exports = __webpack_public_path__ + \"img/hihat.png\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/assets/img/hihat.png\n ** module id = 118\n ** module chunks = 1\n **/","module.exports = __webpack_public_path__ + \"img/kick.png\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/assets/img/kick.png\n ** module id = 119\n ** module chunks = 1\n **/","module.exports = __webpack_public_path__ + \"img/snare.png\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/assets/img/snare.png\n ** module id = 120\n ** module chunks = 1\n **/","module.exports = __webpack_public_path__ + \"img/tome1.png\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/assets/img/tome1.png\n ** module id = 121\n ** module chunks = 1\n **/","module.exports = __webpack_public_path__ + \"sounds/hihat.mp3\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/assets/sounds/hihat.mp3\n ** module id = 122\n ** module chunks = 1\n **/","module.exports = __webpack_public_path__ + \"sounds/kick.mp3\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/assets/sounds/kick.mp3\n ** module id = 123\n ** module chunks = 1\n **/","module.exports = __webpack_public_path__ + \"sounds/snare.mp3\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/assets/sounds/snare.mp3\n ** module id = 124\n ** module chunks = 1\n **/","module.exports = __webpack_public_path__ + \"sounds/tom1.mp3\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/assets/sounds/tom1.mp3\n ** module id = 125\n ** module chunks = 1\n **/","/**\n * Copyright (c) 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\nmodule.exports.Dispatcher = require('./lib/Dispatcher');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/flux/index.js\n ** module id = 126\n ** module chunks = 1\n **/","/**\n * Copyright (c) 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Dispatcher\n * \n * @preventMunge\n */\n\n'use strict';\n\nexports.__esModule = true;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar invariant = require('fbjs/lib/invariant');\n\nvar _prefix = 'ID_';\n\n/**\n * Dispatcher is used to broadcast payloads to registered callbacks. This is\n * different from generic pub-sub systems in two ways:\n *\n *   1) Callbacks are not subscribed to particular events. Every payload is\n *      dispatched to every registered callback.\n *   2) Callbacks can be deferred in whole or part until other callbacks have\n *      been executed.\n *\n * For example, consider this hypothetical flight destination form, which\n * selects a default city when a country is selected:\n *\n *   var flightDispatcher = new Dispatcher();\n *\n *   // Keeps track of which country is selected\n *   var CountryStore = {country: null};\n *\n *   // Keeps track of which city is selected\n *   var CityStore = {city: null};\n *\n *   // Keeps track of the base flight price of the selected city\n *   var FlightPriceStore = {price: null}\n *\n * When a user changes the selected city, we dispatch the payload:\n *\n *   flightDispatcher.dispatch({\n *     actionType: 'city-update',\n *     selectedCity: 'paris'\n *   });\n *\n * This payload is digested by `CityStore`:\n *\n *   flightDispatcher.register(function(payload) {\n *     if (payload.actionType === 'city-update') {\n *       CityStore.city = payload.selectedCity;\n *     }\n *   });\n *\n * When the user selects a country, we dispatch the payload:\n *\n *   flightDispatcher.dispatch({\n *     actionType: 'country-update',\n *     selectedCountry: 'australia'\n *   });\n *\n * This payload is digested by both stores:\n *\n *   CountryStore.dispatchToken = flightDispatcher.register(function(payload) {\n *     if (payload.actionType === 'country-update') {\n *       CountryStore.country = payload.selectedCountry;\n *     }\n *   });\n *\n * When the callback to update `CountryStore` is registered, we save a reference\n * to the returned token. Using this token with `waitFor()`, we can guarantee\n * that `CountryStore` is updated before the callback that updates `CityStore`\n * needs to query its data.\n *\n *   CityStore.dispatchToken = flightDispatcher.register(function(payload) {\n *     if (payload.actionType === 'country-update') {\n *       // `CountryStore.country` may not be updated.\n *       flightDispatcher.waitFor([CountryStore.dispatchToken]);\n *       // `CountryStore.country` is now guaranteed to be updated.\n *\n *       // Select the default city for the new country\n *       CityStore.city = getDefaultCityForCountry(CountryStore.country);\n *     }\n *   });\n *\n * The usage of `waitFor()` can be chained, for example:\n *\n *   FlightPriceStore.dispatchToken =\n *     flightDispatcher.register(function(payload) {\n *       switch (payload.actionType) {\n *         case 'country-update':\n *         case 'city-update':\n *           flightDispatcher.waitFor([CityStore.dispatchToken]);\n *           FlightPriceStore.price =\n *             getFlightPriceStore(CountryStore.country, CityStore.city);\n *           break;\n *     }\n *   });\n *\n * The `country-update` payload will be guaranteed to invoke the stores'\n * registered callbacks in order: `CountryStore`, `CityStore`, then\n * `FlightPriceStore`.\n */\n\nvar Dispatcher = (function () {\n  function Dispatcher() {\n    _classCallCheck(this, Dispatcher);\n\n    this._callbacks = {};\n    this._isDispatching = false;\n    this._isHandled = {};\n    this._isPending = {};\n    this._lastID = 1;\n  }\n\n  /**\n   * Registers a callback to be invoked with every dispatched payload. Returns\n   * a token that can be used with `waitFor()`.\n   */\n\n  Dispatcher.prototype.register = function register(callback) {\n    var id = _prefix + this._lastID++;\n    this._callbacks[id] = callback;\n    return id;\n  };\n\n  /**\n   * Removes a callback based on its token.\n   */\n\n  Dispatcher.prototype.unregister = function unregister(id) {\n    !this._callbacks[id] ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Dispatcher.unregister(...): `%s` does not map to a registered callback.', id) : invariant(false) : undefined;\n    delete this._callbacks[id];\n  };\n\n  /**\n   * Waits for the callbacks specified to be invoked before continuing execution\n   * of the current callback. This method should only be used by a callback in\n   * response to a dispatched payload.\n   */\n\n  Dispatcher.prototype.waitFor = function waitFor(ids) {\n    !this._isDispatching ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Dispatcher.waitFor(...): Must be invoked while dispatching.') : invariant(false) : undefined;\n    for (var ii = 0; ii < ids.length; ii++) {\n      var id = ids[ii];\n      if (this._isPending[id]) {\n        !this._isHandled[id] ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Dispatcher.waitFor(...): Circular dependency detected while ' + 'waiting for `%s`.', id) : invariant(false) : undefined;\n        continue;\n      }\n      !this._callbacks[id] ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Dispatcher.waitFor(...): `%s` does not map to a registered callback.', id) : invariant(false) : undefined;\n      this._invokeCallback(id);\n    }\n  };\n\n  /**\n   * Dispatches a payload to all registered callbacks.\n   */\n\n  Dispatcher.prototype.dispatch = function dispatch(payload) {\n    !!this._isDispatching ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch.') : invariant(false) : undefined;\n    this._startDispatching(payload);\n    try {\n      for (var id in this._callbacks) {\n        if (this._isPending[id]) {\n          continue;\n        }\n        this._invokeCallback(id);\n      }\n    } finally {\n      this._stopDispatching();\n    }\n  };\n\n  /**\n   * Is this Dispatcher currently dispatching.\n   */\n\n  Dispatcher.prototype.isDispatching = function isDispatching() {\n    return this._isDispatching;\n  };\n\n  /**\n   * Call the callback stored with the given id. Also do some internal\n   * bookkeeping.\n   *\n   * @internal\n   */\n\n  Dispatcher.prototype._invokeCallback = function _invokeCallback(id) {\n    this._isPending[id] = true;\n    this._callbacks[id](this._pendingPayload);\n    this._isHandled[id] = true;\n  };\n\n  /**\n   * Set up bookkeeping needed when dispatching.\n   *\n   * @internal\n   */\n\n  Dispatcher.prototype._startDispatching = function _startDispatching(payload) {\n    for (var id in this._callbacks) {\n      this._isPending[id] = false;\n      this._isHandled[id] = false;\n    }\n    this._pendingPayload = payload;\n    this._isDispatching = true;\n  };\n\n  /**\n   * Clear bookkeeping used for dispatching.\n   *\n   * @internal\n   */\n\n  Dispatcher.prototype._stopDispatching = function _stopDispatching() {\n    delete this._pendingPayload;\n    this._isDispatching = false;\n  };\n\n  return Dispatcher;\n})();\n\nmodule.exports = Dispatcher;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/flux/lib/Dispatcher.js\n ** module id = 127\n ** module chunks = 1\n **/","/**\n * Copyright 2013-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule invariant\n */\n\n\"use strict\";\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function (condition, format, a, b, c, d, e, f) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error('Invariant Violation: ' + format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/flux/~/fbjs/lib/invariant.js\n ** module id = 128\n ** module chunks = 1\n **/"],"sourceRoot":""}